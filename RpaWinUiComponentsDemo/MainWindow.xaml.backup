<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="RpaWinUiComponents.Demo.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:RpaWinUiComponentsPackage.AdvancedWinUiDataGrid"
    Title="AdvancedWinUiDataGrid - Komplexna Demo Aplikacia"
    Width="1600"
    Height="900">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Controls -->
            <RowDefinition Height="*" MinHeight="300"/>
            <!-- DataGrid -->
            <RowDefinition Height="250"/>
            <!-- Logs -->
        </Grid.RowDefinitions>

        <!-- Test Controls Panel -->
        <ScrollViewer Grid.Row="0" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled" Background="#F5F5F5">
            <StackPanel Orientation="Vertical" Spacing="8" Margin="10">

                <!-- Row 1: Initialization -->
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <Border Background="#0078D4" CornerRadius="4" Padding="12,8">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Inicializacia:" VerticalAlignment="Center" FontWeight="SemiBold" Foreground="White"/>
                            <Button x:Name="InitButton" Content="Inicializovať Tabuľku" Click="InitButton_Click"/>
                        </StackPanel>
                    </Border>

                    <Border Background="#F3F3F3" CornerRadius="4" Padding="12,8" BorderBrush="#E0E0E0" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Info:" VerticalAlignment="Center" FontWeight="SemiBold"/>
                            <Button x:Name="ShowFeaturesButton" Content="Dostupné Funkcie" Click="ShowFeaturesButton_Click"/>
                            <Button x:Name="GetStatsButton" Content="Štatistiky" Click="GetStatsButton_Click"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Row 2: Data Operations -->
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <Border Background="#F3F3F3" CornerRadius="4" Padding="12,8" BorderBrush="#E0E0E0" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Import:" VerticalAlignment="Center" FontWeight="SemiBold"/>
                            <Button x:Name="ImportDictionaryButton" Content="Dictionary" Click="ImportDictionaryButton_Click"/>
                            <Button x:Name="ImportDataTableButton" Content="DataTable" Click="ImportDataTableButton_Click"/>
                        </StackPanel>
                    </Border>

                    <Border Background="#F3F3F3" CornerRadius="4" Padding="12,8" BorderBrush="#E0E0E0" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Export:" VerticalAlignment="Center" FontWeight="SemiBold"/>
                            <Button x:Name="ExportDictionaryButton" Content="Dictionary" Click="ExportDictionaryButton_Click"/>
                            <Button x:Name="ExportDataTableButton" Content="DataTable" Click="ExportDataTableButton_Click"/>
                            <Button x:Name="ExportToCsvButton" Content="CSV (plocha)" Click="ExportToCsvButton_Click"/>
                        </StackPanel>
                    </Border>

                    <Border Background="#F3F3F3" CornerRadius="4" Padding="12,8" BorderBrush="#E0E0E0" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <Button x:Name="ClearDataButton" Content="Vymazať Dáta" Click="ClearDataButton_Click"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Row 3: Validation & Search -->
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <Border Background="#F3F3F3" CornerRadius="4" Padding="12,8" BorderBrush="#E0E0E0" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Validacia:" VerticalAlignment="Center" FontWeight="SemiBold"/>
                            <Button x:Name="ValidateAllButton" Content="Validovať Všetko" Click="ValidateAllButton_Click"/>
                            <Button x:Name="ClearFiltersButton" Content="Vyčistiť Filtre" Click="ClearFiltersButton_Click"/>
                        </StackPanel>
                    </Border>

                    <Border Background="#F3F3F3" CornerRadius="4" Padding="12,8" BorderBrush="#E0E0E0" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Vyhladavanie:" VerticalAlignment="Center" FontWeight="SemiBold"/>
                            <TextBox x:Name="SearchTextBox" PlaceholderText="Zadaj text..." Width="200" Margin="4,0"/>
                            <Button x:Name="SearchButton" Content="Hľadať" Click="SearchButton_Click"/>
                        </StackPanel>
                    </Border>

                    <Border Background="#F3F3F3" CornerRadius="4" Padding="12,8" BorderBrush="#E0E0E0" BorderThickness="1">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Riadky:" VerticalAlignment="Center" FontWeight="SemiBold"/>
                            <Button x:Name="AddRowButton" Content="Pridať Riadok" Click="AddRowButton_Click"/>
                            <Button x:Name="DeleteRowButton" Content="Zmazať Riadok" Click="DeleteRowButton_Click"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Info Banner -->
                <Border Background="#E3F2FD" CornerRadius="4" Padding="12" BorderBrush="#2196F3" BorderThickness="1">
                    <TextBlock TextWrapping="Wrap" Foreground="#0D47A1">
                        <Run Text="Podporovane funkcie: "/>
                        <Run Text="Filter (klik na hlavicku) • Sort (klik na hlavicku) • Column Resize (drag okraj hlavicky) • Cell Selection (klik na bunku) • Edit (double-klik) • Validacia • Export do CSV" FontWeight="SemiBold"/>
                    </TextBlock>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Main DataGrid Area -->
        <Border x:Name="GridContainer"
                Grid.Row="1"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                Margin="10,0,10,10"
                BorderBrush="#E0E0E0"
                BorderThickness="2"
                CornerRadius="4"
                Background="White">
            <Grid>
                <TextBlock Text="Tabulka sa zobrazi po inicializacii..."
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"
                          FontSize="16"
                          Foreground="#666666"/>
                <TextBlock Text="Stlac tlacidlo 'Inicializovat Tabulku' hore"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"
                          Margin="0,40,0,0"
                          FontSize="14"
                          Foreground="#999999"/>
            </Grid>
        </Border>

        <!-- Live Log Output -->
        <Border Grid.Row="2"
                BorderBrush="#E0E0E0"
                BorderThickness="2,0,2,2"
                Margin="10,0,10,10"
                CornerRadius="0,0,4,4"
                Background="#F8F8F8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Log Header -->
                <Border Background="#E8E8E8" Padding="8,6">
                    <TextBlock Text="Live Log Output" FontWeight="SemiBold" FontSize="13"/>
                </Border>

                <!-- Log Content -->
                <ScrollViewer x:Name="LogScrollViewer"
                             Grid.Row="1"
                             VerticalScrollBarVisibility="Auto"
                             HorizontalScrollBarVisibility="Auto"
                             Padding="8">
                    <TextBlock x:Name="LogOutput"
                              FontFamily="Consolas"
                              FontSize="11"
                              TextWrapping="NoWrap"
                              Foreground="#000000"/>
                </ScrollViewer>
            </Grid>
        </Border>
    </Grid>
</Window>
